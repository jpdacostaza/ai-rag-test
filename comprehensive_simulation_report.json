{
  "test_suite": "Comprehensive Real-Life Simulation",
  "start_time": "2025-06-25T13:28:00.305981",
  "end_time": "2025-06-25T13:40:23.817840",
  "duration_seconds": 743.511859,
  "phases_completed": 7,
  "test_results": [
    {
      "phase": "module_imports",
      "results": [
        {
          "module": "main",
          "description": "Main application",
          "status": "success",
          "duration_ms": 6697.74,
          "attributes": 76
        },
        {
          "module": "config",
          "description": "Configuration",
          "status": "success",
          "duration_ms": 0.0,
          "attributes": 38
        },
        {
          "module": "database",
          "description": "Database interface",
          "status": "success",
          "duration_ms": 0.0,
          "attributes": 33
        },
        {
          "module": "database_manager",
          "description": "Database manager",
          "status": "success",
          "duration_ms": 0.0,
          "attributes": 64
        },
        {
          "module": "human_logging",
          "description": "Logging system",
          "status": "success",
          "duration_ms": 0.0,
          "attributes": 23
        },
        {
          "module": "error_handler",
          "description": "Error handling",
          "status": "success",
          "duration_ms": 0.0,
          "attributes": 28
        },
        {
          "module": "routes.health",
          "description": "Health routes",
          "status": "success",
          "duration_ms": 0.0,
          "attributes": 34
        },
        {
          "module": "routes.chat",
          "description": "Chat routes",
          "status": "success",
          "duration_ms": 0.0,
          "attributes": 42
        },
        {
          "module": "routes.models",
          "description": "Models routes",
          "status": "success",
          "duration_ms": 0.0,
          "attributes": 23
        },
        {
          "module": "routes.upload",
          "description": "Upload routes",
          "status": "success",
          "duration_ms": 0.0,
          "attributes": 33
        },
        {
          "module": "routes.pipeline",
          "description": "Pipeline routes",
          "status": "success",
          "duration_ms": 0.0,
          "attributes": 20
        },
        {
          "module": "routes.debug",
          "description": "Debug routes",
          "status": "success",
          "duration_ms": 0.0,
          "attributes": 21
        }
      ],
      "success_rate": 1.0
    },
    {
      "phase": "service_health",
      "results": [
        {
          "endpoint": "/health",
          "description": "Main health check",
          "status_code": 200,
          "healthy": true,
          "response_time_ms": 8.83,
          "data": {
            "status": "ok",
            "summary": "Health check: 3/3 services healthy. Redis: \u2705, ChromaDB: \u2705, Embeddings: \u2705",
            "databases": {
              "redis": {
                "status": "healthy",
                "details": "Connected and responsive"
              },
              "chromadb": {
                "status": "healthy",
                "details": "Connected and responsive"
              },
              "embeddings": {
                "status": "healthy",
                "details": "Model loaded and ready"
              },
              "cache": {
                "status": "healthy",
                "details": "Cache operational - 0.0% hit rate",
                "stats": {
                  "size": 0,
                  "max_size": 10000,
                  "hit_count": 0,
                  "miss_count": 0,
                  "total_requests": 0,
                  "hit_rate": "0.0%",
                  "hit_rate_numeric": 0
                }
              },
              "alerts": {
                "status": "healthy",
                "details": "Alert system operational - 0 total alerts",
                "stats": {
                  "total_alerts": 0,
                  "active_alerts": 0,
                  "resolved_alerts": 0,
                  "alerts_24h": 0,
                  "severity_breakdown": {
                    "low": 0,
                    "medium": 0,
                    "high": 0,
                    "critical": 0
                  },
                  "avg_resolution_time": null,
                  "top_components": [],
                  "alerts_by_severity": {
                    "low": 0,
                    "medium": 0,
                    "high": 0,
                    "critical": 0
                  },
                  "alerts_by_component": {}
                }
              }
            },
            "cache": {
              "size": 0,
              "max_size": 10000,
              "hit_count": 0,
              "miss_count": 0,
              "total_requests": 0,
              "hit_rate": "0.0%",
              "hit_rate_numeric": 0
            }
          }
        },
        {
          "endpoint": "/",
          "description": "Root endpoint",
          "status_code": 200,
          "healthy": true,
          "response_time_ms": 12.46,
          "data": {
            "message": "FastAPI LLM Backend is running",
            "status": "ok"
          }
        },
        {
          "endpoint": "/upload/health",
          "description": "Upload service health",
          "status_code": 200,
          "healthy": true,
          "response_time_ms": 3.01,
          "data": {
            "status": "healthy",
            "service": "upload",
            "database_connected": true,
            "endpoints": [
              "POST /upload/document (JSON)",
              "POST /upload/search (JSON)",
              "POST /upload/file (multipart)",
              "GET /upload/health"
            ]
          }
        },
        {
          "endpoint": "/v1/models",
          "description": "Models availability",
          "status_code": 200,
          "healthy": true,
          "response_time_ms": 66.23,
          "data": {
            "object": "list",
            "data": [
              {
                "id": "llama3.2:3b",
                "object": "model",
                "created": 1750850758,
                "owned_by": "ollama",
                "permission": [],
                "root": "llama3.2:3b",
                "parent": null,
                "_ollama_data": {
                  "name": "llama3.2:3b",
                  "model": "llama3.2:3b",
                  "modified_at": "2025-06-24T18:50:28.9024417Z",
                  "size": 2019393189,
                  "digest": "a80c4f17acd55265feec403c7aef86be0c25983ab279d83f3bcd3abbcb5b8b72",
                  "details": {
                    "parent_model": "",
                    "format": "gguf",
                    "family": "llama",
                    "families": [
                      "llama"
                    ],
                    "parameter_size": "3.2B",
                    "quantization_level": "Q4_K_M"
                  }
                }
              }
            ]
          }
        }
      ],
      "all_healthy": true
    },
    {
      "phase": "concurrent_operations",
      "total_requests": 10,
      "successful": 10,
      "duration_seconds": 3.3913822174072266,
      "requests_per_second": 2.948650243158137
    },
    {
      "phase": "edge_cases",
      "results": [
        {
          "name": "Empty content upload",
          "success": true,
          "actual_status": 422,
          "expected_status": 422
        },
        {
          "name": "Missing user_id in chat",
          "success": true,
          "actual_status": 422,
          "expected_status": 422
        },
        {
          "name": "Invalid search limit",
          "success": true,
          "actual_status": 422,
          "expected_status": 422
        },
        {
          "name": "Non-existent endpoint",
          "success": true,
          "actual_status": 404,
          "expected_status": 404
        },
        {
          "name": "Extremely long content",
          "success": false,
          "error": "HTTPConnectionPool(host='localhost', port=9099): Read timed out. (read timeout=30)"
        },
        {
          "name": "Special characters in user_id",
          "success": false,
          "error": "HTTPConnectionPool(host='localhost', port=9099): Read timed out. (read timeout=30)"
        },
        {
          "name": "Unicode content",
          "success": true,
          "actual_status": 200,
          "expected_status": 200
        }
      ],
      "success_rate": 0.7142857142857143
    },
    {
      "phase": "performance_load",
      "results": [
        {
          "test": "Health check load",
          "iterations": 50,
          "errors": 0,
          "min_ms": 4.58,
          "max_ms": 31.54,
          "avg_ms": 11.49,
          "median_ms": 6.6,
          "p95_ms": 29.55,
          "success_rate": 100.0
        },
        {
          "test": "Search load",
          "iterations": 25,
          "errors": 0,
          "min_ms": 309.18,
          "max_ms": 401.33,
          "avg_ms": 351.87,
          "median_ms": 350.92,
          "p95_ms": 376.48,
          "success_rate": 100.0
        },
        {
          "test": "Chat load",
          "iterations": 10,
          "errors": 1,
          "min_ms": 3.69,
          "max_ms": 21134.29,
          "avg_ms": 2361.02,
          "median_ms": 15.85,
          "p95_ms": 21134.29,
          "success_rate": 90.0
        }
      ]
    },
    {
      "phase": "integration_scenarios",
      "results": [
        {
          "scenario": "Research Assistant Workflow",
          "user_id": "scenario_d66ccfc5",
          "steps": [
            {
              "step": "Upload research paper",
              "success": true,
              "details": {
                "success": true,
                "status_code": 200,
                "response": {
                  "status": "success",
                  "message": "Document uploaded and processed successfully",
                  "document_id": "doc_scenario_d66ccfc5_1750851584",
                  "chunks_stored": true,
                  "content_length": 903,
                  "user_id": "scenario_d66ccfc5"
                }
              }
            },
            {
              "step": "Ask questions about paper",
              "success": true,
              "details": {
                "success": true,
                "questions_asked": 3,
                "successful_responses": 3
              }
            },
            {
              "step": "Search for specific topics",
              "success": true,
              "details": {
                "success": true,
                "topics_searched": 4,
                "topics_found": 4
              }
            },
            {
              "step": "Get summary",
              "success": true,
              "details": {
                "success": true,
                "summary_generated": true,
                "response_length": 563
              }
            }
          ],
          "success_rate": 1.0
        },
        {
          "scenario": "Customer Support Bot",
          "user_id": "scenario_d5bbfbf9",
          "steps": [
            {
              "step": "Upload FAQ documents",
              "success": true,
              "details": {
                "success": true,
                "uploaded": 3,
                "total": 3
              }
            },
            {
              "step": "Handle customer queries",
              "success": true,
              "details": {
                "success": true,
                "queries_handled": 3,
                "total_queries": 3
              }
            },
            {
              "step": "Search knowledge base",
              "success": true,
              "details": {
                "success": true,
                "documents_found": 2,
                "categories_covered": 1
              }
            }
          ],
          "success_rate": 1.0
        }
      ]
    },
    {
      "phase": "cleanup_recovery",
      "results": [
        {
          "test": "Service recovery after errors",
          "success": true,
          "error_requests": 5,
          "recovered": true
        },
        {
          "test": "Upload service health",
          "success": true,
          "data": {
            "status": "healthy",
            "service": "upload",
            "database_connected": true,
            "endpoints": [
              "POST /upload/document (JSON)",
              "POST /upload/search (JSON)",
              "POST /upload/file (multipart)",
              "GET /upload/health"
            ]
          }
        }
      ],
      "all_passed": true
    }
  ],
  "error_log": [
    {
      "phase": "load_test",
      "test": "Chat load",
      "error": "HTTPConnectionPool(host='localhost', port=9099): Read timed out. (read timeout=30)"
    }
  ],
  "test_users_created": 5,
  "performance_metrics": {
    "total_tests": 30,
    "successful_tests": 23,
    "failed_tests": 7,
    "phases": {
      "module_imports": {
        "total": 12,
        "successful": 12,
        "success_rate": 100.0
      },
      "service_health": {
        "total": 4,
        "successful": 4,
        "success_rate": 100.0
      },
      "edge_cases": {
        "total": 7,
        "successful": 5,
        "success_rate": 71.42857142857143
      },
      "performance_load": {
        "total": 3,
        "successful": 0,
        "success_rate": 0.0
      },
      "integration_scenarios": {
        "total": 2,
        "successful": 0,
        "success_rate": 0.0
      },
      "cleanup_recovery": {
        "total": 2,
        "successful": 2,
        "success_rate": 100.0
      }
    },
    "overall_success_rate": 76.66666666666667
  }
}